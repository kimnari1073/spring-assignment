{{>layouts/header}}

<button type="button" onclick="window.location.href='/articles/new'">새 글작성</button>

<h4>공지사항</h4>
<table class="table table-hover">
    <thead>
    <tr>
        <th scope="col">#</th>
        <th scope="col">Title</th>
        <th scope="col">작성일</th>
    </tr>
    </thead>
    <tbody class="table-group-divider">
    {{#articleList}}
        <tr data-href="/articles/{{id}}">
            <th scope="row">{{id}}</th>
            <td>{{title}}</td>
            <td class="createdAt">{{createdAt}}</td>
        </tr>
    {{/articleList}}
    </tbody>
</table>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var rows = document.querySelectorAll('tr[data-href]');
        rows.forEach(function(row) {
            row.addEventListener('click', function() {
                window.location.href = row.getAttribute('data-href');
            });
        });
        // 모든 createdAt 요소를 선택
        var createdAtElements = document.querySelectorAll(".createdAt");

        // 각 요소를 반복 처리
        createdAtElements.forEach(function(element) {
            var createdAtText = element.textContent;
            var formattedDate = createdAtText.split('T')[0]; // T를 기준으로 잘라서 앞부분만 사용
            element.textContent = formattedDate;
        });
    });
    document.addEventListener("DOMContentLoaded", function() {
        // 모든 createdAt 요소를 선택
        var createdAtElements = document.querySelectorAll(".createdAt");

        // 각 요소를 반복 처리
        createdAtElements.forEach(function(element) {
            var createdAtText = element.textContent;
            var formattedDate = createdAtText.split('T')[0]; // T를 기준으로 잘라서 앞부분만 사용
            element.textContent = formattedDate;
        });
    });
</script>

{{>layouts/footer}}
